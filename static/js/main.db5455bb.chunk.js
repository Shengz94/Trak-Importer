(this["webpackJsonptrack-importer"]=this["webpackJsonptrack-importer"]||[]).push([[0],{51:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),s=n(19),i=n.n(s),a=(n(51),n(14)),o=n(18),u=n(5),d=n(100);var l=function(e){return"undefined"===e||"null"===e||""===e||"undefined"===typeof e||void 0===e||null===e},h=n(101),j=n(2),f=Object(u.f)((function(e){var t=Object(c.useState)(),n=Object(a.a)(t,2),r=n[0],s=n[1];return Object(c.useEffect)((function(){l(e.userToken)&&e.history.push("/")}),[e.userToken]),Object(j.jsxs)("div",{className:"import-list-view",children:[Object(j.jsx)("div",{className:"file-browser",children:Object(j.jsx)("input",{type:"file",onChange:function(e){return function(e){e.preventDefault(),s(e.target.files[0])}(e)}})}),Object(j.jsx)("div",{className:"process-button",children:Object(j.jsx)(d.a,{disabled:l(r),variant:"contained",color:"default",onClick:function(){var t=new FileReader;t.onload=function(t){var n=t.target.result.split("\n"),c=new Map;n.forEach((function(e){if(!l(e)){var t={id:Object(h.a)(),sourceTitle:e,traktTitle:[],selected:{},import:!0};c.set(t.id,t)}})),e.populateTitles(c),e.history.push("Import-Trakt")},t.readAsText(r)},children:"Process titles"})})]})})),p=n(41),O=n(28),b=n.n(O),A=n(36),m=n(44),x=n(42),v=n.n(x),T=function(e){return Object(j.jsxs)("div",{className:"title-import-card",children:[Object(j.jsx)("div",{className:"checkbox-import",children:Object(j.jsx)("input",{type:"checkbox",disabled:l(e.title.traktTitle[0]),checked:e.title.import,onChange:function(){return e.handleImportCheckBox(e.title.id)}})}),Object(j.jsxs)("div",{className:"right-content",children:[Object(j.jsx)("div",{className:"source-name",children:Object(j.jsxs)("span",{children:[Object(j.jsx)("b",{children:"Input title"}),": ",e.title.sourceTitle,"\xa0"]})}),Object(j.jsx)("div",{className:"trakt-title",children:l(e.title.selected)?Object(j.jsx)("span",{children:Object(j.jsx)("b",{children:"No title found on Trakt"})}):Object(j.jsxs)("label",{children:[Object(j.jsx)("b",{children:"Trakt title"}),":",Object(j.jsx)("select",{value:l(e.title.selected)?"":JSON.stringify(e.title.selected),onChange:function(t){return e.handleSelectedChange(e.title.id,t.target.value)},children:e.title.traktTitle.map((function(e){return Object(j.jsx)("option",{value:JSON.stringify(e),children:"Trakt ID "+e.id+": "+e.title+" - "+e.year+" ("+e.type+")"},e.id)}))})]})})]})]})},k="3f2a4833bca232c1afbb66c2a56447e7d75b44372af9d45f11cf0b907b326b92",y="ea9ac4d176818616f44dc3a3d643cf73569590ae0c055d2dc190023d9762ea81",g="https://api.trakt.tv/",z="https://shengz94.github.io/trakt-history-importer/";function w(e){var t=g+"search/movie,show?query="+encodeURI(e);return fetch(t,{headers:{"Content-Type":"application/json","trakt-api-key":k,"trakt-api-version":"2"},method:"get"}).then((function(e){return e.json()})).then((function(e){var t=[];return e.forEach((function(e){var n="movie"===e.type?e.movie:e.show,c={type:e.type,title:n.title,year:n.year,id:n.ids.trakt,slug:n.ids.slug};t.push(c)})),t}))}function C(e,t,n){var c={movies:e,shows:t},r={headers:{"Content-Type":"application/json","trakt-api-key":k,"trakt-api-version":"2",Authorization:"Bearer "+n},body:JSON.stringify(c),method:"post"};return fetch("https://api.trakt.tv/sync/history/",r).then((function(e){return e.json()})).then((function(e){var t={added:{movies:e.added.movies,episodes:e.added.episodes},notFound:{movies:[],shows:[],seasons:[],episodes:[]}};return e.not_found.movies.forEach((function(e){t.notFound.movies.push(e)})),e.not_found.shows.forEach((function(e){t.notFound.shows.push(e)})),e.not_found.seasons.forEach((function(e){t.notFound.seasons.push(e)})),e.not_found.episodes.forEach((function(e){t.notFound.episodes.push(e)})),t}))}function H(e){return fetch("https://api.trakt.tv/users/settings/",{headers:{"Content-Type":"application/json","trakt-api-key":k,"trakt-api-version":"2",Authorization:"Bearer "+e},method:"get"}).then((function(e){return e.json()})).then((function(e){return{username:e.user.username,name:e.user.name,uuid:e.user.ids.uuid,slug:e.user.ids.slug,image:e.user.images.avatar.full}}))}var N=Object(u.f)((function(e){var t=Object(c.useState)(!1),n=Object(a.a)(t,2),r=n[0],s=n[1],i=Object(c.useState)(),o=Object(a.a)(i,2),u=o[0],h=o[1],f=Object(c.useState)(!1),O=Object(a.a)(f,2),x=O[0],k=O[1];function y(){return(y=Object(A.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],e.titles.forEach((function(e){var t=e;n.push(w(t.sourceTitle))})),t.next=4,Promise.allSettled(n).then((function(t){e.updateTitles(t)}));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(){return(g=Object(A.a)(b.a.mark((function t(){var n,c,r,s,i,a,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l(e.titles)){t.next=11;break}n=[],c=[],s=Object(p.a)(e.titles.values());try{for(s.s();!(i=s.n()).done;)!(a=i.value).import||l(a.selected)||l(a.selected.id)||(o={ids:{trakt:a.selected.id}},"movie"===a.selected.type?n.push(o):"show"===a.selected.type&&c.push(o))}catch(u){s.e(u)}finally{s.f()}return k(!0),t.next=8,C(n,c,e.userToken).then((function(e){l(e)||(r=e)}));case 8:k(!1),e.fillLog(r),e.history.push("/Result");case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){y.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){h(Object(m.a)(e.titles.values()))}),[e.titles]),Object(c.useEffect)((function(){!l(u)&&u.length>=0&&s(!0)}),[u]),Object(c.useEffect)((function(){l(e.userToken)&&e.history.push("/")}),[e.userToken]),(l(e.titles)||e.titles.size<=0)&&e.history.push("/Home"),Object(j.jsxs)("div",{className:"import-trakt-view",children:[x?Object(j.jsx)("div",{className:"loading-screen",children:Object(j.jsx)(v.a,{type:"ThreeDots",color:"#00BFFF",height:100,width:100})}):Object(j.jsx)(c.Fragment,{}),r&&!l(e.titles)?Object(j.jsxs)(c.Fragment,{children:[Object(j.jsx)("div",{className:"title-list",children:u.map((function(t){return Object(j.jsx)(T,{title:t,updateTitle:e.updateTitle,handleImportCheckBox:e.handleImportCheckBox,handleSelectedChange:e.handleSelectedChange},t.id)}))}),Object(j.jsx)("div",{className:"import-button",children:Object(j.jsx)(d.a,{variant:"contained",color:"default",onClick:function(){return g.apply(this,arguments)},children:"Import titles"})})]}):Object(j.jsx)(c.Fragment,{})]})})),X=Object(u.f)((function(e){var t=g+"oauth/authorize/?client_id="+k+"&redirect_uri="+encodeURI(z)+"&response_type=code";return l(e.userToken)||e.history.push("/Home"),Object(j.jsx)("div",{className:"login-view",children:Object(j.jsx)(d.a,{size:"large",variant:"contained",onClick:function(){window.location.href=t},children:"Log in"})})})),S=Object(u.f)((function(e){function t(e){if(e.indexOf("///end///")>0){var t=e.split("///end///"),n=t[1],c=t[0].split("///startTitle///"),r=c[0],s=c[1];return Object(j.jsxs)("p",{children:[r," ",Object(j.jsx)("a",{href:n,children:s})," "]})}return Object(j.jsx)("p",{children:e})}return Object(c.useEffect)((function(){l(e.userToken)&&e.history.push("/")}),[e.userToken]),Object(j.jsxs)("div",{className:"result-view",children:[Object(j.jsx)("div",{className:"log",children:e.log.map((function(e){return Object(j.jsx)(c.Fragment,{children:t(e)},Math.random())}))}),Object(j.jsx)("div",{className:"back-button",children:Object(j.jsx)(d.a,{variant:"contained",color:"default",onClick:function(){e.history.push("/Home")},children:"Back"})})]})})),D=n(43),E=n.n(D),M=function(e){return Object(j.jsx)("div",{className:"top-bar",children:Object(j.jsxs)("div",{className:"user-info",children:[Object(j.jsxs)("div",{className:"left-content",children:[Object(j.jsx)("div",{className:"logo",children:Object(j.jsx)("a",{href:"https://trakt.tv/",children:Object(j.jsx)("img",{id:"trakt",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA+gAAAFUCAMAAACA6ubxAAABF1BMVEX////tIiTtIiTtIiTtIiTvRC/tIiTtIiTtIiTtIiTtIiT3mHntIiTtIiTvQS7tIiTtIiTtIiTvOyvvRzHyaErwSjPtIiTwTzbtIiTvPS3vOSv////0eVnvPy31hWbvPCzxYkTwUjjxVTrxXEDxVTrwTzbxXEDxWj7yaEr2jG33mHn7ybT6vKT0gGHwSjPyaErzdVb4pIf91sT////+7+f94tX0eVn5r5X3mHnzb1D6uJ/xWT33mHnzclPwTTX4oobxWD75rpXyY0btHCTvSDP7yLTyZknzc1X2lnnuNiv0f2H91cT1hWb1i236u6T///////////////////////////////////////////////////////8UzULPAAAAXXRSTlMAMEBQgJ+/3//PICBw769gEJ/vj0CAr3CPz/8QML9Q34/PYFC/35///////////4D///////9g/0BwMK9gn+/////P////////////n///ML+PgHBAIFDvz2Cvn9+8aUeeAAAelUlEQVR4AezBVZLEMAxAQcWxFQ0zM9//hvu/TIapet1SqMrV3gdVbeyNlqp6751rC4Bn1HFdr2rf1dO+HzgB8CSGrjtS+52xTgZTAVA0N5s39metsKgEQIGG9XJl/2et3gmAgmzqZcsi0FklJQCw7e4snl5/0BEAWU2XjUW36m4FQCb7MLZEDsetJAegCmNL6tBtS0IA2rPGMjgNNpIGgPPOcumNpgIguvZkbFkdFkMBENOlb/n1QlsARLIZHKwQVycAIhjOxlaQ21kA/LPOpGeFaQYC4B917mv7vccL+3ahICcMhHE89anQc4OtC2FCOGDCnr7/a9VdIkj1+73A6j8GaF0xs/lazcxW62ZK6seF+r0AkHnZcmd6CXHGcDUy+O1ZZnUA2LyepSdu2QySqK95RO63pu/VAeB4m5I0tjMynjOsc0ry4qoCgCnWtyhBWdVOZtCf2IYSPFipsQDg9GbKTH7iZEZD1+YU7eWmGgMANl9SrLLrZQGmaihSdqzSAcDZNsVpT5wspu9KinO0qwAgzeqIougTJwsbuoai3NhU8QCg2MkpQtMN8kv0VdT72X6mYgHA7iMKy20vv1DdUoQHdxUAxE3nFFaeOPnFBs4pKDtT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"})})}),Object(j.jsx)("div",{className:"app-title",children:Object(j.jsx)("p",{children:"Trakt Importer"})}),Object(j.jsx)("div",{className:"logo",children:Object(j.jsx)("a",{href:"https://github.com/Shengz94",children:Object(j.jsx)("img",{id:"github",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RERCMUIwQTM4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RERCMUIwQTI4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTMyOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjJBNDE0QUJDOTlBMTExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+8kSqyAAADD5JREFUeNrsXQ2Q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"})})})]}),l(e.user)?Object(j.jsx)(c.Fragment,{}):Object(j.jsxs)("div",{className:"right-content",children:[Object(j.jsx)("div",{className:"logout",children:Object(j.jsx)(E.a,{size:"small",onClick:e.logout})}),Object(j.jsx)("div",{className:"user-avatar",children:Object(j.jsx)("img",{src:e.user.image})}),Object(j.jsx)("div",{className:"user-name",children:Object(j.jsx)("span",{children:e.user.name})})]})]})})},I=function(){var e=Object(c.useState)(new Map),t=Object(a.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)([]),i=Object(a.a)(s,2),d=i[0],h=i[1],p=Object(c.useState)(),O=Object(a.a)(p,2),b=O[0],A=O[1],m=Object(c.useState)(localStorage.getItem("userToken")),x=Object(a.a)(m,2),v=x[0],T=x[1];function g(e,t){var c=new Map(n);c.set(e,t),r(c)}function w(e){var t=new Map(n),c=0;t.forEach((function(t){t.traktTitle=e[c].value,t.selected=e[c].value[0],l(e[c].value[0])&&(t.import=!1),c++})),r(t)}function C(e,t){var c=n.get(e);c.selected=JSON.parse(t),g(e,c)}function D(e){var t=n.get(e);t.import=!t.import,g(e,t)}function E(e){var t=function(e){var t=new Set;return e.movies.forEach((function(e){t.add(e.ids.trakt)})),e.shows.forEach((function(e){t.add(e.ids.trakt)})),t}(e.notFound),c=[];n.forEach((function(n){var r="-";r=n.import?l(n.selected)?n.sourceTitle+" NOT found in Trakt. ":l(e)||t.has(n.selected.id)?"There were a problem importing "+n.sourceTitle+" to Trakt. ":n.sourceTitle+" imported to Trakt as ///startTitle///"+n.selected.title+" - "+n.selected.year+"("+n.selected.type+") (ID:"+n.selected.id+"). ///end///https://trakt.tv/"+n.selected.type+"s/"+n.selected.slug:n.sourceTitle+" NOT imported to Trakt. ",c.push(r)})),h(c)}return Object(c.useEffect)((function(){localStorage.setItem("userToken",v),l(v)||H(v).then((function(e){A(e)}))}),[v]),Object(c.useEffect)((function(){if(console.log("User Token: "+v),l(v)){var e=new URLSearchParams(window.location.search).get("code");console.log("User code: "+e),l(e)||function(e){var t=new URLSearchParams;return t.append("code",e),t.append("client_id",k),t.append("client_secret",y),t.append("redirect_uri",z),t.append("grant_type","authorization_code"),fetch("https://api.trakt.tv/oauth/token/",{header:{"Content-Type":"application/json"},body:t,method:"post"}).then((function(e){return e.json()})).then((function(e){return{access_token:e.access_token,expireIn:e.expires_in,refreshToken:e.refresh_token,created_at:e.created_at}}))}(e).then((function(e){T(e.access_token)}))}else H(v).then((function(e){A(e)}))}),[]),Object(j.jsxs)(c.Fragment,{children:[Object(j.jsx)(M,{user:b,logout:function(){!function(e){var t=new URLSearchParams;t.append("token",e),t.append("client_id",k),t.append("client_secret",y),fetch("https://api.trakt.tv/oauth/revoke/",{header:{"Content-Type":"application/json"},body:t,method:"post"}).then((function(e){return e.json()}))}(v),T(void 0),A(void 0)}}),Object(j.jsx)(o.a,{basename:"/Trakt-Importer",children:Object(j.jsxs)(u.c,{children:[Object(j.jsx)(u.a,{exact:!0,path:"/",children:Object(j.jsx)(X,{userToken:v})}),Object(j.jsx)(u.a,{exact:!0,path:"/Home",children:Object(j.jsx)(f,{userToken:v,populateTitles:function(e){return function(e){r(e)}(e)}})}),Object(j.jsx)(u.a,{exact:!0,path:"/Import-Trakt",render:function(){return Object(j.jsx)(N,{titles:n,userToken:v,log:d,updateTitles:w,fillLog:E,handleSelectedChange:C,handleImportCheckBox:D})}}),Object(j.jsx)(u.a,{exact:!0,path:"/Result",render:function(){return Object(j.jsx)(S,{userToken:v,log:d})}})]})})]})};i.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(I,{})}),document.getElementById("root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.db5455bb.chunk.js.map